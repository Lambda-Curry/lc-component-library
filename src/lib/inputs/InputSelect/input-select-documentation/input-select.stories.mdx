import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs/blocks';
import { InputSelect, Form, InputText } from '../../..';
import dedent from 'string-dedent';
import './input-select-story.scss';

<Meta title="Input Select" component={InputSelect} />

# Input Select

<Canvas>
  <Story
    name="Input Select"
    parameters={{
      docs: {
        source: {
          code: dedent`
          <Form
            initialValues={{
              select: undefined,
              initialSelect: { label: 'Option 1', value: 1 },
              selectValueOnly: 2
            }}
            onSubmit={() => {}}
          >
            {formikProps => (
              <>
                <p className="lc-mb-8">Value: {JSON.stringify(formikProps.values.select)}</p>
                <InputSelect
                  label="Select Option"
                  name="select"
                  options={[
                    { label: 'Option 1', value: 1 },
                    { label: 'Option 2', value: 2 },
                    { label: 'Option 3', value: 3 }
                  ]}
                  formikProps={formikProps}
                />
                <p className="lc-mb-8">Value with initial form value: {JSON.stringify(formikProps.values.initialSelect)}</p>
                <InputSelect
                  label="Select Option"
                  name="initialSelect"
                  options={[
                    { label: 'Option 1', value: 1 },
                    { label: 'Option 2', value: 2 },
                    { label: 'Option 3', value: 3 }
                  ]}
                  formikProps={formikProps}
                />
                <p className="lc-my-8">
                  Value when <code>optionValueKey</code> is passed: {\`\${formikProps.values.selectValueOnly}\`}
                </p>
                <InputSelect
                  label="Select Option"
                  name="selectValueOnly"
                  optionValueKey="value"
                  options={[
                    { label: 'Option 1', value: 1 },
                    { label: 'Option 2', value: 2 },
                    { label: 'Option 3', value: 3 }
                  ]}
                  formikProps={formikProps}
                />
              </>
            )}
          </Form>`
        }
      }
    }}
  >
    <div className="input-select-story">
      <Form
        initialValues={{
          select: undefined,
          initialSelect: { label: 'Option 1', value: 1 },
          selectValueOnly: 2,
          inputText: ''
        }}
        onSubmit={() => {}}
      >
        {formikProps => (
          <>
            <InputText name="inputText" formikProps={formikProps} />
            <p className="lc-mb-8">Value: {JSON.stringify(formikProps.values.select)}</p>
            <InputSelect
              label="Select Option"
              name="select"
              options={[
                { label: 'Option 1', value: 1 },
                { label: 'Option 2', value: 2 },
                { label: 'Option 3', value: 3 }
              ]}
              formikProps={formikProps}
            />
            <p className="lc-mb-8">Value with initial form value: {JSON.stringify(formikProps.values.initialSelect)}</p>
            <InputSelect
              label="Select Option"
              name="initialSelect"
              options={[
                { label: 'Option 1', value: 1 },
                { label: 'Option 2', value: 2 },
                { label: 'Option 3', value: 3 }
              ]}
              formikProps={formikProps}
            />
            <p className="lc-my-8">
              Value when <code>optionValueKey</code> is passed: {`${formikProps.values.selectValueOnly}`}
            </p>
            <InputSelect
              label="Select Option"
              name="selectValueOnly"
              optionValueKey="value"
              options={[
                { label: 'Option 1', value: 1 },
                { label: 'Option 2', value: 2 },
                { label: 'Option 3', value: 3 }
              ]}
              formikProps={formikProps}
            />
          </>
        )}
      </Form>
    </div>
  </Story>
  <ArgsTable of={InputSelect} />
</Canvas>
