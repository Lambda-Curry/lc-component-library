import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs/blocks';
import { InputDate, Form } from '../../..';
import dedent from 'string-dedent';

<Meta title="Input Date" component={InputDate} />

# Date Input

<Canvas>
  <Story
    name="Input Date"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <Form
              initialValues={{
                sampleDate: new Date()
              }}
              onSubmit={() => {}}
            >
              {formikProps => (
                <>
                  Value: {formikProps.values.sampleDate instanceof Date ? formikProps.values.sampleDate.toLocaleDateString() : ''}
                  <InputDate name="sampleDate" formikProps={formikProps} />
                </>
              )}
            </Form>`
        }
      }
    }}
  >
    <div className="input-text-story">
      <Form
        initialValues={{
          sampleDate: new Date(),
          formattedDate: ''
        }}
        onSubmit={() => {}}
      >
        {formikProps => (
          <>
            Value:{' '}
            {formikProps.values.sampleDate instanceof Date ? formikProps.values.sampleDate.toLocaleDateString() : ''}
            <InputDate name="sampleDate" formikProps={formikProps} />
            Value: {formikProps.values.formattedDate}
            <InputDate name="formattedDate" valueFormat={'LL/dd/yyyy'} formikProps={formikProps} />
          </>
        )}
      </Form>
    </div>
  </Story>
  <ArgsTable of={InputDate} />
</Canvas>
